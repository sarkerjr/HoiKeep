generator client {
  provider                  = "prisma-client-js"
  previewFeatures           = ["fieldReference", "clientExtensions"]
  binaryTargets             = ["native"]
  uncheckedRelationalInputs = "true"
  uncheckedScalarInputs     = "true"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Halls {
  id          String        @id @default(uuid())
  name        String
  nameTag     String
  type        Gender
  authorities Authorities[]
  staffs      Staffs[]
  operators   Operators[]
}

model Departments {
  id          String        @id @default(uuid())
  name        String
  nameTag     String
  authorities Authorities[]
  staffs      Staffs[]
}

model Authorities {
  id            String       @id @default(uuid())
  name          String
  email         String       @unique
  designation   String
  role          String
  active        Boolean      @default(false)
  halls         Halls?       @relation(fields: [hallsId], references: [id])
  hallsId       String?
  departments   Departments? @relation(fields: [departmentsId], references: [id])
  departmentsId String?
}

model Staffs {
  id            String       @id @default(uuid())
  name          String
  email         String       @unique
  role          String
  active        Boolean      @default(false)
  halls         Halls?       @relation(fields: [hallsId], references: [id])
  hallsId       String?
  departments   Departments? @relation(fields: [departmentsId], references: [id])
  departmentsId String?
}

model Operators {
  id      String  @id @default(uuid())
  name    String
  email   String  @unique
  role    String
  halls   Halls?  @relation(fields: [hallsId], references: [id])
  hallsId String?
}

enum Gender {
  MALE
  FEMALE
}
